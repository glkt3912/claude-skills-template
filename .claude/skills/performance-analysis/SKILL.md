---
name: performance-analysis
description: パフォーマンスを調査・分析する。「パフォーマンス調査」「遅い原因」「ボトルネック特定」などの依頼時に使用。
---

# 目的

アプリケーションのパフォーマンス問題を特定し、改善策を提案する。

# 手順

1. **問題の定義**
   - 何が遅いか
   - どの程度遅いか（数値）
   - いつから遅いか

2. **計測**
   - `references/metrics.md` の指標に基づき計測

3. **ボトルネック特定**
   - `references/bottlenecks.md` のパターンと照合

4. **改善策の提案**
   - 費用対効果の高い順に提案

# 出力フォーマット

```markdown
## パフォーマンス分析レポート

### 問題の概要
- **症状**: [何が遅いか]
- **現状値**: [計測値]

### ボトルネック
1. **[問題箇所]**
   - 場所: `ファイル:行番号`
   - 原因: [なぜ遅いか]
   - 改善案: [対処法]
   - 期待効果: [改善度]

### 推奨対応（優先順）
1. [最も効果的な対応]
2. [次に効果的な対応]
```

# 参照

- `references/metrics.md` - パフォーマンス指標一覧
- `references/bottlenecks.md` - ボトルネックパターン

# 制約

- 推測ではなく計測に基づく
- 早すぎる最適化を避ける
- トレードオフを明示
